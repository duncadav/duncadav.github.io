<head> 
    <script type='text/javascript' src='https://smtpjs.com/v3/smtp.js'></script> 
    <script type='text/javascript' src='https://code.jquery.com/jquery-3.4.1.min.js'></script> 
    <script src='https://www.google.com/recaptcha/api.js'></script> 
    <script type='text/javascript' 
    src='https://cdnjs.cloudflare.com/ajax/libs/openpgp/4.6.2/compat/openpgp.min.js'></script> 
    </head> 
    <style> 
    .blackboard { 
    position: relative; 
    max-width: 23em; 
    margin: 7% auto; 
    border: tan solid 12px; 
    border-top: #bda27e solid 12px; 
    border-left: #b19876 solid 12px; 
    border-bottom: #c9ad86 solid 12px; 
    box-shadow: 0px 0px 6px 5px rgba(58, 18, 13, 0), 0px 0px 0px 2px #c2a782, 0px 0px 0px 4px #a58e6f, 3px 4px 8px 5px rgba(0, 0, 0, 0.5); 
    background-image: radial-gradient(circle at left 30%, rgba(34, 34, 34, 0.3), rgba(34, 34, 34, 0.3) 80px, rgba(34, 34, 34, 0.5) 100px, rgba(51, 51, 51, 0.5) 160px, rgba(51, 51, 51, 0.5)), linear-gradient(215deg, transparent, transparent 100px, #222 260px, #222 320px, transparent), radial-gradient(circle at right, #111, rgba(51, 51, 51, 1)); 
    background-color: #333; 
    } 
    
    .blackboard:before { 
    box-sizing: border-box; 
    display: block; 
    position: absolute; 
    width: 100%; 
    height: 100%; 
    background-image: linear-gradient(175deg, transparent, transparent 40px, rgba(120, 120, 120, 0.1) 100px, rgba(120, 120, 120, 0.1) 110px, transparent 220px, transparent), linear-gradient(200deg, transparent 80%, rgba(50, 50, 50, 0.3)), radial-gradient(ellipse at right bottom, transparent, transparent 200px, rgba(80, 80, 80, 0.1) 260px, rgba(80, 80, 80, 0.1) 320px, transparent 400px, transparent); 
    border: #2c2c2c solid 2px; 
    content: 'Send me an encrypted email!'; 
    font-family: 'Permanent Marker', cursive; 
    font-size: 1.2em; 
    color: rgba(238, 238, 238, 0.7); 
    text-align: center; 
    padding-top: 20px; 
    } 
    
    .form { 
    padding: 70px 20px 20px; 
    } 
    
    .shade p { 
    position: relative; 
    margin-bottom: 1em; 
    } 
    
    .shade label { 
    vertical-align: top; 
    font-family: 'Permanent Marker', cursive; 
    font-size: 1.6em; 
    color: rgba(238, 238, 238, 0.7); 
    } 
    
    .shade p:nth-of-type(5)>label { 
    vertical-align: top; 
    } 
    
    .shade input, 
    textarea { 
    vertical-align: middle; 
    padding-left: 10px; 
    background: none; 
    border: none; 
    font-family: 'Permanent Marker', cursive; 
    font-size: 1.6em; 
    color: rgba(238, 238, 238, 0.8); 
    line-height: .6em; 
    outline: none; 
    } 
    
    .shade textarea { 
    height: 120px; 
    font-size: 1.4em; 
    line-height: 1em; 
    resize: none; 
    } 
    
    .shade input[type='submit'] { 
    cursor: pointer; 
    color: rgba(238, 238, 238, 0.7); 
    line-height: 1em; 
    padding: 0; 
    } 
    
    .shade input[type='submit']:focus { 
    background: rgba(238, 238, 238, 0.2); 
    color: rgba(238, 238, 238, 0.2); 
    } 
    
    .shade ::-moz-selection { 
    background: rgba(238, 238, 238, 0.2); 
    color: rgba(238, 238, 238, 0.2); 
    text-shadow: none; 
    } 
    
    .shade ::selection { 
    background: rgba(238, 238, 238, 0.4); 
    color: rgba(238, 238, 238, 0.3); 
    text-shadow: none; 
    } 
    </style> 
    <script type='text/javascript'> 
    function onSubmitHandler() { 
    event.preventDefault(); const pubkey = "-----BEGIN PGP PUBLIC KEY BLOCK-----\n"+
   "Version: OpenPGP.js v4.8.0\n"+
   "Comment: https://openpgpjs.org\n"+
   "\n"+
   "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"+
   "rw=="+
   "=Hxak\n"+
   "-----END PGP PUBLIC KEY BLOCK-----\n"+
   "\n" 
    key = openpgp.key.readArmored(pubkey); 
    key.then(k => { 
    const options = { 
    message: openpgp.message.fromText($('#Body').val()),  // input as Message object                         
    publicKeys: k.keys,    // for                       
    } 
    openpgp.encrypt(options).then(ciphertext => { 
    encrypted = ciphertext.data // '-----BEGIN PGP MESSAGE ... END PGP MESSAGE-----'                 
    return encrypted 
    }).then(encrypted => { 
    encryptedLines = encrypted.split('\n'); 
    htmlEncryptedMessage = ''; 
    encryptedLines.forEach((line) => { htmlEncryptedMessage = htmlEncryptedMessage.concat('<br/>', line); }); 
    
    messageRequest = { 
    'messageBody': htmlEncryptedMessage, 
    'recipient': 'charles.demonstration@gmail.com' 
    } 
    fetch('https://cutecryption-backend.herokuapp.com/sendMail', { 
    method: 'POST', 
    mode: 'cors', 
    headers: { 
    'Accept': 'application/json', 
    'Content-Type': 'application/json' 
    }, 
    body: JSON.stringify(messageRequest) 
    }).then(response => { 
    alert(response) 
    $('#Body').val(''); 
    }); 
    }); 
    }); 
    }      </script> 
    <div class='shade'> 
    <div class='blackboard'> 
    <div class='form'> 
    <p> <label>Message: </label> <textarea id='Body'></textarea> </p> 
    <p class='wipeout'> <input type='submit' value='Send' onclick='onSubmitHandler()' /> </p> 
    </div> 
    </div> 
    </div> 
   