<head> 
    <script type='text/javascript' src='https://smtpjs.com/v3/smtp.js'></script> 
    <script type='text/javascript' src='https://code.jquery.com/jquery-3.4.1.min.js'></script> 
    <script src='https://www.google.com/recaptcha/api.js'></script> 
    <script type='text/javascript' 
    src='https://cdnjs.cloudflare.com/ajax/libs/openpgp/4.6.2/compat/openpgp.min.js'></script> 
    </head> 
    <style> 
    .blackboard { 
    position: relative; 
    max-width: 23em; 
    margin: 7% auto; 
    border: tan solid 12px; 
    border-top: #bda27e solid 12px; 
    border-left: #b19876 solid 12px; 
    border-bottom: #c9ad86 solid 12px; 
    box-shadow: 0px 0px 6px 5px rgba(58, 18, 13, 0), 0px 0px 0px 2px #c2a782, 0px 0px 0px 4px #a58e6f, 3px 4px 8px 5px rgba(0, 0, 0, 0.5); 
    background-image: radial-gradient(circle at left 30%, rgba(34, 34, 34, 0.3), rgba(34, 34, 34, 0.3) 80px, rgba(34, 34, 34, 0.5) 100px, rgba(51, 51, 51, 0.5) 160px, rgba(51, 51, 51, 0.5)), linear-gradient(215deg, transparent, transparent 100px, #222 260px, #222 320px, transparent), radial-gradient(circle at right, #111, rgba(51, 51, 51, 1)); 
    background-color: #333; 
    } 
    
    .blackboard:before { 
    box-sizing: border-box; 
    display: block; 
    position: absolute; 
    width: 100%; 
    height: 100%; 
    background-image: linear-gradient(175deg, transparent, transparent 40px, rgba(120, 120, 120, 0.1) 100px, rgba(120, 120, 120, 0.1) 110px, transparent 220px, transparent), linear-gradient(200deg, transparent 80%, rgba(50, 50, 50, 0.3)), radial-gradient(ellipse at right bottom, transparent, transparent 200px, rgba(80, 80, 80, 0.1) 260px, rgba(80, 80, 80, 0.1) 320px, transparent 400px, transparent); 
    border: #2c2c2c solid 2px; 
    content: 'Send me an encrypted email!'; 
    font-family: 'Permanent Marker', cursive; 
    font-size: 1.2em; 
    color: rgba(238, 238, 238, 0.7); 
    text-align: center; 
    padding-top: 20px; 
    } 
    
    .form { 
    padding: 70px 20px 20px; 
    } 
    
    .shade p { 
    position: relative; 
    margin-bottom: 1em; 
    } 
    
    .shade label { 
    vertical-align: top; 
    font-family: 'Permanent Marker', cursive; 
    font-size: 1.6em; 
    color: rgba(238, 238, 238, 0.7); 
    } 
    
    .shade p:nth-of-type(5)>label { 
    vertical-align: top; 
    } 
    
    .shade input, 
    textarea { 
    vertical-align: middle; 
    padding-left: 10px; 
    background: none; 
    border: none; 
    font-family: 'Permanent Marker', cursive; 
    font-size: 1.6em; 
    color: rgba(238, 238, 238, 0.8); 
    line-height: .6em; 
    outline: none; 
    } 
    
    .shade textarea { 
    height: 120px; 
    font-size: 1.4em; 
    line-height: 1em; 
    resize: none; 
    } 
    
    .shade input[type='submit'] { 
    cursor: pointer; 
    color: rgba(238, 238, 238, 0.7); 
    line-height: 1em; 
    padding: 0; 
    } 
    
    .shade input[type='submit']:focus { 
    background: rgba(238, 238, 238, 0.2); 
    color: rgba(238, 238, 238, 0.2); 
    } 
    
    .shade ::-moz-selection { 
    background: rgba(238, 238, 238, 0.2); 
    color: rgba(238, 238, 238, 0.2); 
    text-shadow: none; 
    } 
    
    .shade ::selection { 
    background: rgba(238, 238, 238, 0.4); 
    color: rgba(238, 238, 238, 0.3); 
    text-shadow: none; 
    } 
    </style> 
    <script type='text/javascript'> 
    function onSubmitHandler() { 
    event.preventDefault(); const pubkey = "-----BEGIN PGP PUBLIC KEY BLOCK-----\n"+
   "Version: OpenPGP.js v4.8.0\n"+
   "Comment: https://openpgpjs.org\n"+
   "\n"+
   "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"+
   "6w=="+
   "=oj4s\n"+
   "-----END PGP PUBLIC KEY BLOCK-----\n"+
   "\n" 
    key = openpgp.key.readArmored(pubkey); 
    key.then(k => { 
    const options = { 
    message: openpgp.message.fromText($('#Body').val()),  // input as Message object                         
    publicKeys: k.keys,    // for                       
    } 
    openpgp.encrypt(options).then(ciphertext => { 
    encrypted = ciphertext.data // '-----BEGIN PGP MESSAGE ... END PGP MESSAGE-----'                 
    return encrypted 
    }).then(encrypted => { 
    encryptedLines = encrypted.split('\n'); 
    htmlEncryptedMessage = ''; 
    encryptedLines.forEach((line) => { htmlEncryptedMessage = htmlEncryptedMessage.concat('<br/>', line); }); 
    
    messageRequest = { 
    'messageBody': htmlEncryptedMessage, 
    'recipient': 'charles.demonstration@gmail.com' 
    } 
    fetch('https://cutecryption-backend.herokuapp.com/sendMail', { 
    method: 'POST', 
    mode: 'cors', 
    headers: { 
    'Accept': 'application/json', 
    'Content-Type': 'application/json' 
    }, 
    body: JSON.stringify(messageRequest) 
    }).then(response => { 
    alert(response) 
    $('#Body').val(''); 
    }); 
    }); 
    }); 
    }      </script> 
    <div class='shade'> 
    <div class='blackboard'> 
    <div class='form'> 
    <p> <label>Message: </label> <textarea id='Body'></textarea> </p> 
    <p class='wipeout'> <input type='submit' value='Send' onclick='onSubmitHandler()' /> </p> 
    </div> 
    </div> 
    </div> 
   