<head> 
    <script type='text/javascript' src='https://smtpjs.com/v3/smtp.js'></script> 
    <script type='text/javascript' src='https://code.jquery.com/jquery-3.4.1.min.js'></script> 
    <script src='https://www.google.com/recaptcha/api.js'></script> 
    <script type='text/javascript' 
    src='https://cdnjs.cloudflare.com/ajax/libs/openpgp/4.6.2/compat/openpgp.min.js'></script> 
    </head> 
    <style> 
    .blackboard { 
    position: relative; 
    max-width: 23em; 
    margin: 7% auto; 
    border: tan solid 12px; 
    border-top: #bda27e solid 12px; 
    border-left: #b19876 solid 12px; 
    border-bottom: #c9ad86 solid 12px; 
    box-shadow: 0px 0px 6px 5px rgba(58, 18, 13, 0), 0px 0px 0px 2px #c2a782, 0px 0px 0px 4px #a58e6f, 3px 4px 8px 5px rgba(0, 0, 0, 0.5); 
    background-image: radial-gradient(circle at left 30%, rgba(34, 34, 34, 0.3), rgba(34, 34, 34, 0.3) 80px, rgba(34, 34, 34, 0.5) 100px, rgba(51, 51, 51, 0.5) 160px, rgba(51, 51, 51, 0.5)), linear-gradient(215deg, transparent, transparent 100px, #222 260px, #222 320px, transparent), radial-gradient(circle at right, #111, rgba(51, 51, 51, 1)); 
    background-color: #333; 
    } 
    
    .blackboard:before { 
    box-sizing: border-box; 
    display: block; 
    position: absolute; 
    width: 100%; 
    height: 100%; 
    background-image: linear-gradient(175deg, transparent, transparent 40px, rgba(120, 120, 120, 0.1) 100px, rgba(120, 120, 120, 0.1) 110px, transparent 220px, transparent), linear-gradient(200deg, transparent 80%, rgba(50, 50, 50, 0.3)), radial-gradient(ellipse at right bottom, transparent, transparent 200px, rgba(80, 80, 80, 0.1) 260px, rgba(80, 80, 80, 0.1) 320px, transparent 400px, transparent); 
    border: #2c2c2c solid 2px; 
    content: 'Send me an encrypted email!'; 
    font-family: 'Permanent Marker', cursive; 
    font-size: 1.2em; 
    color: rgba(238, 238, 238, 0.7); 
    text-align: center; 
    padding-top: 20px; 
    } 
    
    .form { 
    padding: 70px 20px 20px; 
    } 
    
    .shade p { 
    position: relative; 
    margin-bottom: 1em; 
    } 
    
    .shade label { 
    vertical-align: top; 
    font-family: 'Permanent Marker', cursive; 
    font-size: 1.6em; 
    color: rgba(238, 238, 238, 0.7); 
    } 
    
    .shade p:nth-of-type(5)>label { 
    vertical-align: top; 
    } 
    
    .shade input, 
    textarea { 
    vertical-align: middle; 
    padding-left: 10px; 
    background: none; 
    border: none; 
    font-family: 'Permanent Marker', cursive; 
    font-size: 1.6em; 
    color: rgba(238, 238, 238, 0.8); 
    line-height: .6em; 
    outline: none; 
    } 
    
    .shade textarea { 
    height: 120px; 
    font-size: 1.4em; 
    line-height: 1em; 
    resize: none; 
    } 
    
    .shade input[type='submit'] { 
    cursor: pointer; 
    color: rgba(238, 238, 238, 0.7); 
    line-height: 1em; 
    padding: 0; 
    } 
    
    .shade input[type='submit']:focus { 
    background: rgba(238, 238, 238, 0.2); 
    color: rgba(238, 238, 238, 0.2); 
    } 
    
    .shade ::-moz-selection { 
    background: rgba(238, 238, 238, 0.2); 
    color: rgba(238, 238, 238, 0.2); 
    text-shadow: none; 
    } 
    
    .shade ::selection { 
    background: rgba(238, 238, 238, 0.4); 
    color: rgba(238, 238, 238, 0.3); 
    text-shadow: none; 
    } 
    </style> 
    <script type='text/javascript'> 
    function onSubmitHandler() { 
    event.preventDefault(); const pubkey = "-----BEGIN PGP PUBLIC KEY BLOCK-----\n"+
   "Version: OpenPGP.js v4.8.0\n"+
   "Comment: https://openpgpjs.org\n"+
   "\n"+
   "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"+
   "cg=="+
   "=beMu\n"+
   "-----END PGP PUBLIC KEY BLOCK-----\n"+
   "\n" 
    key = openpgp.key.readArmored(pubkey); 
    key.then(k => { 
    const options = { 
    message: openpgp.message.fromText($('#Body').val()),  // input as Message object                         
    publicKeys: k.keys,    // for                       
    } 
    openpgp.encrypt(options).then(ciphertext => { 
    encrypted = ciphertext.data // '-----BEGIN PGP MESSAGE ... END PGP MESSAGE-----'                 
    return encrypted 
    }).then(encrypted => { 
    encryptedLines = encrypted.split('\n'); 
    htmlEncryptedMessage = ''; 
    encryptedLines.forEach((line) => { htmlEncryptedMessage = htmlEncryptedMessage.concat('<br/>', line); }); 
    
    messageRequest = { 
    'messageBody': htmlEncryptedMessage, 
    'recipient': 'charles.demonstration@gmail.com' 
    } 
    fetch('https://cutecryption-backend.herokuapp.com/sendMail', { 
    method: 'POST', 
    mode: 'cors', 
    headers: { 
    'Accept': 'application/json', 
    'Content-Type': 'application/json' 
    }, 
    body: JSON.stringify(messageRequest) 
    }).then(response => { 
    if(response['status'] == 200){
    alert('Message sent!') 
    }
    else{
    alert('Send failed') 
    }
    $('#Body').val(''); 
    }); 
    }); 
    }); 
    }      </script> 
    <div class='shade'> 
    <div class='blackboard'> 
    <div class='form'> 
    <p> <label>Message: </label> <textarea id='Body'></textarea> </p> 
    <p class='wipeout'> <input type='submit' value='Send' onclick='onSubmitHandler()' /> </p> 
    </div> 
    </div> 
    </div> 
   