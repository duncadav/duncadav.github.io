<head> 
  <script type='text/javascript' src='https://smtpjs.com/v3/smtp.js'></script> 
  <script type='text/javascript' src='https://code.jquery.com/jquery-3.4.1.min.js'></script> 
  <script src='https://www.google.com/recaptcha/api.js'></script> 
  <script type='text/javascript' 
  src='https://cdnjs.cloudflare.com/ajax/libs/openpgp/4.6.2/compat/openpgp.min.js'></script> 
  <link href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'> 
  </head> 
  <style> 
  .background { 
  font-family: 'Sofia'; 
  font-weight: bold; 
  background: #ffb347; 
  /* fallback for old browsers */ 
  background: -webkit-linear-gradient(to right, #ffcc33, #ffb347); 
  /* Chrome 10-25, Safari 5.1-6 */ 
  background: linear-gradient(to right, #ffcc33, #ffb347); 
  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */ 
  max-width: 23em; 
  max-height: 60em; 
  border-radius: 6px; 
  box-shadow: 3px 3px 3px grey; 
  } 
  
  .sunshine form legend { 
  color: cornflowerblue; 
  font-weight: bold; 
  padding: 0 .5em; 
  margin: 0 auto; 
  justify-content: left; 
  } 
  
  .sunshine form label { 
  color: cornflowerblue; 
  ; 
  font-weight: bold; 
  margin: 2em; 
  } 
  
  .sunshine form textarea { 
  font-family: 'Sofia'; 
  margin: 0em 2em 2em 2em; 
  width: 19em; 
  height: 8em; 
  border-radius: 6px; 
  border: 1px skyblue solid; 
  background-image: linear-gradient(to left top, #a8e6ff, #a2e1fb, #9cddf7, #95d8f4, #8fd4f0, #9bd5f2, #a6d7f4, #b0d8f5, #cae0f9, #e0e9fb, #f2f3fd, #ffffff); 
  resize: none; 
  } 
  
  .sunshine textarea::-webkit-scrollbar-track { 
  border: 1px solid #000; 
  padding: 2px 0; 
  background-color: white; 
  visibility: hidden; 
  cursor: pointer; 
  } 
  
  .sunshine textarea::-webkit-scrollbar { 
  width: 13px; 
  cursor: pointer; 
  } 
  
  .sunshine textarea::-webkit-scrollbar:hover { 
  cursor: pointer; 
  } 
  
  .sunshine textarea::-webkit-scrollbar-thumb { 
  border-radius: 10px; 
  box-shadow: inset 0 0 6px rgba(0, 0, 0, .3); 
  background-color: cornflowerblue; 
  border: 1px solid cornflowerblue; 
  } 
  
  .sunshine #submitButton { 
  font-family: 'Sofia'; 
  margin: 0em 2em 2em 2em; 
  width: 19em; 
  border-radius: 59px; 
  background-color: cornflowerblue; 
  color: white; 
  } 
  
  .sunshine hr.legendHr { 
  border-width: 3px; 
  margin-top: 0em; 
  } 
  </style> 
  <script type='text/javascript'> 
  function onSubmitHandler() { 
  event.preventDefault(); 
  const pubkey = "-----BEGIN PGP PUBLIC KEY BLOCK-----\n"+
 "Version: OpenPGP.js v4.8.0\n"+
 "Comment: https://openpgpjs.org\n"+
 "\n"+
 "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"+
 "=t+pM\n"+
 "-----END PGP PUBLIC KEY BLOCK-----\n"+
 "\n"; 
  
  key = openpgp.key.readArmored(pubkey); 
  key.then(k => { 
  const options = 
  { 
  message: openpgp.message.fromText($('#Body').val()),  // input as Message object    
  publicKeys: k.keys,    // for     
  } 
  openpgp.encrypt(options).then(ciphertext => { 
  encrypted = ciphertext.data // '-----BEGIN PGP MESSAGE ... END PGP MESSAGE-----'   
  return encrypted 
  }).then(encrypted => { 
  encryptedLines = encrypted.split('\n'); 
  htmlEncryptedMessage = ''; 
  encryptedLines.forEach((line) => { htmlEncryptedMessage = htmlEncryptedMessage.concat('<br/>', line); }); 
  
  messageRequest = { 
  'messageBody': htmlEncryptedMessage, 
  'recipient': 'duncadav@gmail.com' 
  } 
  fetch('https://cutecryption-backend.herokuapp.com/sendMail', { 
  method: 'POST', 
  mode: 'cors', 
  headers: { 
  'Accept': 'application/json', 
  'Content-Type': 'application/json' 
  }, 
  body: JSON.stringify(messageRequest) 
  }).then(response => { 
  alert(response) 
  $('#Body').val(''); 
  }); 
  }); 
  }); 
  }  
  </script> 
  <div class='background'> 
  <div class='sunshine'> 
  <form> 
  <legend>Send me an encrypted message!</legend> 
  <hr class='legendHr'> 
  <label>Message: </label><br> 
  <textarea id='Body'></textarea> 
  <input id='submitButton' type='submit' value='Send' onclick='onSubmitHandler()' /> 
  </form> 
  </div> 
  </div> 
 